<h2>News Feed</h2>

<%= button_to "my profile", user_path(@username["id"]), method: :get %> <br></br>


<%= form_tag tweets_path, method: :post do %>
    <label>Tweet:</label><br>
    <%= text_area_tag :'tweet[text]' %><br>
    <%= submit_tag "Submit Post" %><br><br>
<% end %>




  
  

 


<div class="ui raised very padded text container segment">
<% if @current_user.feed.count > 0%>
    <% @current_user.feed.each do |tweet| %>
        <% if tweet.user %>
        <div class="ui segment">
        <div class="ui right aligned container"><%= link_to tweet.created_at.to_date, tweet_path(tweet) %></div>
        <%= link_to tweet.user.twitter_handle, user_path(tweet.user_id), method: :get %>
            <div class="ui clearing divider"></div>
                <p> <%= link_to tweet.text, tweet_path(tweet) %> <br></p>

            <% if tweet.like_user_ids.include?(@current_user.id)%>


            <button class="ui compact basic icon button">
            <%= link_to "❤️", like_path(tweet), method: :delete %>
            </button>
            <a class="ui basic red left pointing label">
            <%= tweet.likes.count %> 
            </a>

            


            <%else%>
            <button class="ui compact basic icon button">
            <%= link_to "🤍", likes_path(tweet), method: :post %>
            </button>
            <a class="ui basic red left pointing label">
            <%= tweet.likes.count %> 
            </a>
            <% end %>

          
                <% if @username["id"] == tweet.user.id %>
                <button class="ui compact basic icon button">
                <%= link_to  "🗑️", tweet_path(tweet), method: :delete %>
                </button>
                <% end %>
                
                
                </div>
                
                
                
            <% end %>
        <% end %>
    <% else %>
        No tweets to show.
        <%= link_to "Find some people to follow.", users_path %>
    <% end %>
    </div>

 